@using Syncfusion.EJ2
@model List<QuanLyDeTai.Models.Topic>

@{
    ViewData["Title"] = "ManageTopics";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";

    List<Topic> Model_Disapproved = new List<Topic>();
    foreach (var item in Model) {
        if (item.Approved == false) { Model_Disapproved.Add(item); }
    }

    List<Topic> Model_Extending = new List<Topic>();
    foreach (var item in Model)
    {
        if (item.Approved == true && item.IsExtended == true) { Model_Extending.Add(item); }
    }

    List<Topic> Model_Cancelling = new List<Topic>();
    foreach (var item in Model)
    {
        if (item.Approved == true && item.IsCancelled == 1) { Model_Cancelling.Add(item); }
    }

    List<Topic> Model_Approved = new List<Topic>();
    foreach (var item in Model)
    {
        if (item.Approved == true) { Model_Approved.Add(item); }
    }
}

<div>
@*    <h1>Index</h1>

    <p>
        <a asp-action="Create">Create New</a>
    </p>
    *@
</div>

<ul class="nav nav-tabs">
    <li class="nav-item fs-5">
        <a class="nav-link active" data-toggle="tab" href="#DISAPPROVED_TOPIC">DISAPPROVED TOPIC</a>
    </li>

    <li class="nav-item fs-5">
        <a class="nav-link" data-toggle="tab" href="#EXTENDING_REQUEST">EXTENDING REQUEST</a>
    </li>

    <li class="nav-item fs-5">
        <a class="nav-link" data-toggle="tab" href="#CANCELLING_REQUEST">CANCELLING REQUEST</a>
    </li>

    <li class="nav-item fs-5">
        <a class="nav-link" data-toggle="tab" href="#APPROVED_TOPIC">APPROVED TOPIC</a>
    </li>
</ul>

<div class="tab-content">
    <div id="DISAPPROVED_TOPIC" class="tab-pane fade in active">
        <form asp-action="Register" method="post">
            @Html.AntiForgeryToken()
            <div class="row m-b-10" style="margin-bottom: 50px !important">
                <div class="col-xl-12 d-flex flex-row justify-content-center mt-5">
                    <input class="tb-custom" placeholder="Input name of topic" 
                    style="width: 800px; padding: 20px 10px;font-size: 18px"/>
                    <a style="position: absolute; right: 310px; top: 8px; font-size: 20px" asp-action="Edit">
                        <i class="fa fa-search" style="color: gray"></i>
                    </a>
                </div>
                <table class="table mt-5">
                    <thead>
                        <tr>
                            <th>
                                TopicName
                            </th>
                            <th>
                                RegisteredYear
                            </th>
                            <th>
                                ResearchField
                            </th>
                            <th>
                                LevelTopic
                            </th>
                            <th>
                                Duration
                            </th>
                            <th>
                                Approved
                            </th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model_Disapproved)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.TopicName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.RegisteredYear)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.ResearchField)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.LevelTopic)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Duration)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Approved)
                                </td>
                                <td>
                                    <a asp-action="Edit" asp-route-id="@item.TopicId">Edit</a> |
                                    <a asp-action="Details" asp-route-id="@item.TopicId">Details</a> |
                                    <a asp-action="Delete" asp-route-id="@item.TopicId">Delete</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

            <div class="row m-b-10" style="margin-bottom: 50px !important">
                <div class="col-xl-12 d-flex flex-column">
                    <div class="row d-flex justify-content-end" style="margin-top: 50px">
                        <button class="btn-register" type="submit">DECLINE</button>
                        <button class="btn-register" type="submit">ACCEPT</button>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div id="EXTENDING_REQUEST" class="tab-pane fade">
        <form asp-action="Register" method="post">
            @Html.AntiForgeryToken()
            <div class="row m-b-10" style="margin-bottom: 50px !important">
                <div class="col-xl-12 d-flex flex-row justify-content-center mt-5">
                    <input class="tb-custom" placeholder="Input name of topic"
                           style="width: 800px; padding: 20px 10px;font-size: 18px" />
                    <a style="position: absolute; right: 310px; top: 8px; font-size: 20px" asp-action="Edit">
                        <i class="fa fa-search" style="color: gray"></i>
                    </a>
                </div>
                <table class="table mt-5">
                    <thead>
                        <tr>
                            <th>
                                TopicName
                            </th>
                            <th>
                                RegisteredYear
                            </th>
                            <th>
                                ResearchField
                            </th>
                            <th>
                                LevelTopic
                            </th>
                            <th>
                                Duration
                            </th>
                            <th>
                                Approved
                            </th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model_Extending)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.TopicName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.RegisteredYear)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.ResearchField)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.LevelTopic)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Duration)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Approved)
                                </td>
                                <td>
                                    <a asp-action="Edit" asp-route-id="@item.TopicId">Edit</a> |
                                    <a asp-action="Details" asp-route-id="@item.TopicId">Details</a> |
                                    <a asp-action="Delete" asp-route-id="@item.TopicId">Delete</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

            <div class="row m-b-10" style="margin-bottom: 50px !important">
                <div class="col-xl-12 d-flex flex-column">
                    <div class="row d-flex justify-content-end" style="margin-top: 50px">
                        <button class="btn-register" type="submit">DECLINE</button>
                        <button class="btn-register" type="submit">ACCEPT</button>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div id="CANCELLING_REQUEST" class="tab-pane fade">
        <form asp-action="Register" method="post">
            @Html.AntiForgeryToken()
            <div class="row m-b-10" style="margin-bottom: 50px !important">
                <div class="col-xl-12 d-flex flex-row justify-content-center mt-5">
                    <input class="tb-custom" placeholder="Input name of topic"
                           style="width: 800px; padding: 20px 10px;font-size: 18px" />
                    <a style="position: absolute; right: 310px; top: 8px; font-size: 20px" asp-action="Edit">
                        <i class="fa fa-search" style="color: gray"></i>
                    </a>
                </div>
                <table class="table mt-5">
                    <thead>
                        <tr>
                            <th>
                                TopicName
                            </th>
                            <th>
                                RegisteredYear
                            </th>
                            <th>
                                ResearchField
                            </th>
                            <th>
                                LevelTopic
                            </th>
                            <th>
                                Duration
                            </th>
                            <th>
                                Approved
                            </th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model_Cancelling)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.TopicName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.RegisteredYear)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.ResearchField)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.LevelTopic)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Duration)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Approved)
                                </td>
                                <td>
                                    <a asp-action="Edit" asp-route-id="@item.TopicId">Edit</a> |
                                    <a asp-action="Details" asp-route-id="@item.TopicId">Details</a> |
                                    <a asp-action="Delete" asp-route-id="@item.TopicId">Delete</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

            <div class="row m-b-10" style="margin-bottom: 50px !important">
                <div class="col-xl-12 d-flex flex-column">
                    <div class="row d-flex justify-content-end" style="margin-top: 50px">
                        <button class="btn-register" type="submit">DECLINE</button>
                        <button class="btn-register" type="submit">ACCEPT</button>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div id="APPROVED_TOPIC" class="tab-pane fade">
        <form asp-action="Register" method="post">
            @Html.AntiForgeryToken()
            <div class="row m-b-10" style="margin-bottom: 50px !important">
                <div class="col-xl-12 d-flex flex-row justify-content-center mt-5">
                    <input class="tb-custom" placeholder="Input name of topic"
                           style="width: 800px; padding: 20px 10px;font-size: 18px" />
                    <a style="position: absolute; right: 310px; top: 8px; font-size: 20px" asp-action="Edit">
                        <i class="fa fa-search" style="color: gray"></i>
                    </a>
                </div>
                <table class="table mt-5">
                    <thead>
                        <tr>
                            <th>
                                TopicName
                            </th>
                            <th>
                                RegisteredYear
                            </th>
                            <th>
                                ResearchField
                            </th>
                            <th>
                                LevelTopic
                            </th>
                            <th>
                                Duration
                            </th>
                            <th>
                                Approved
                            </th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model_Approved)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.TopicName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.RegisteredYear)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.ResearchField)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.LevelTopic)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Duration)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Approved)
                                </td>
                                <td>
                                    <a asp-action="Edit" asp-route-id="@item.TopicId">Edit</a> |
                                    <a asp-action="Details" asp-route-id="@item.TopicId">Details</a> |
                                    <a asp-action="Delete" asp-route-id="@item.TopicId">Delete</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

            <div class="row m-b-10" style="margin-bottom: 50px !important">
                <div class="col-xl-12 d-flex flex-column">
                    <div class="row d-flex justify-content-end" style="margin-top: 50px">
                        <button class="btn-register" type="submit">UPDATE</button>
                        <button class="btn-register" type="submit">DELETE</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
